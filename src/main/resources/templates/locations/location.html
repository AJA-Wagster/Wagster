<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title>Wagster | Create Review</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="apple-touch-icon" sizes="180x180" th:href="@{/img/apple-touch-icon.png}">
    <link rel="icon" type="image/png" sizes="32x32" th:href="@{/img/favicon-32x32.png}">
    <link rel="icon" type="image/png" sizes="16x16" th:href="@{/img/favicon-16x16.png}">
    <link rel="manifest" href="/site.webmanifest">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link th:href="@{/css/main.css}" rel="stylesheet">
    <link th:href="@{/css/location.css}" rel="stylesheet">
    <style>
        input[type="radio"] {
            visibility: hidden;
        }

        .fa-paw.highlight {
            color: #ffe66d;
        }

        .create-form {
            display: flex;
            flex-direction: column;
        }

        create-form label {
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            justify-content: flex-end;

        }

        .create-form label i {
            margin-right: 0.2rem;
        }

        .fa-solid{
            font-size: 30px;
        }
        .fa-star{
            font-size: 30px;
        }
    </style>
</head>
<body>
<nav th:replace="~{partials/partials :: navbar}"></nav>
<div class="container create-box">
    <h1 style="font-size: 45px">Create a Review</h1>
    <form class="create-form" th:action="@{/review/create}" th:method="post">
        <input type="checkbox" th:value="${username}" checked hidden="hidden" name="user">
        <p style="margin-right: 10px; font-size: 30px">Comment:</p>
        <textarea id="comment" name="comment" type="text" style="height: 250px; resize: vertical;"></textarea>
        <div style="display: flex; justify-content: flex-start; align-items: center;">
        <p style="margin-right: 10px; font-size: 30px">Ratings:</p>
        <label for="1-stars"><i class="fa-solid fa-paw" onclick="highlightPaws(1)"></i></label>
        <label for="2-stars"><i class="fa-solid fa-paw" onclick="highlightPaws(2)"></i></label>
        <label for="3-stars"><i class="fa-solid fa-paw" onclick="highlightPaws(3)"></i></label>
        <label for="4-stars"><i class="fa-solid fa-paw" onclick="highlightPaws(4)"></i></label>
        <label for="5-stars"><i class="fa-solid fa-paw" onclick="highlightPaws(5)"></i></label>
        <input type="hidden" th:value="${locationId}" name="location">
        </div>

        <input type="radio" id="1-stars" name="rating" value="1" hidden>
        <input type="radio" id="2-stars" name="rating" value="2" hidden>
        <input type="radio" id="3-stars" name="rating" value="3" hidden>
        <input type="radio" id="4-stars" name="rating" value="4" hidden>
        <input type="radio" id="5-stars" name="rating" value="5" hidden>


        <button class="submit">Submit</button>
    </form>
</div>
<script>
    function highlightPaws(rating) {
        const pawIcons = document.querySelectorAll('.fa-paw');
        pawIcons.forEach((pawIcon, index) => {
            if (index < rating) {
                pawIcon.classList.add('highlight');
            } else {
                pawIcon.classList.remove('highlight');
            }
        });
    }
</script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
            crossorigin="anonymous">
    </script>
</body>
</html>